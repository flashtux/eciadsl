HOW TO GET CONNECTED USING STARTMODEM AT BOOT
=============================================


Pre-requisites:
 - ECIADSL driver installed and configured
 - the cnx package (auto reconnection script)
All this stuff is available at: http://eciadsl.flashtux.org/download.php


Mandrake users: get rc.adsl.mdk from the cnx package.
SuSE users: get rc.adsl from the cnx package.
Other systems: get rc.adsl from the cnx package, but it may be necessary to
adapt it to your system.


Copy the rc.adsl* file to /etc/init.d: cp rc.adsl /etc/init.d


Each rc*.d directory corresponds to an init level. For instance init level 5
is the one that lead to a graphical login (this is default on most Linux
systems), so /etc/rc.d/rc5.d belongs to that level.

You will find more information about init levels:
	man inittab
or look at your /etc/inittab file.

To know which default init level is reached at boot:
find a line likne the following:
	id:5:initdefault:
in /etc/inittab file. Here, default level is 5.
Let's say we use init level 5 at boot.

You have to know that when your system enters an init level, it calls all the
K* files from the last level, then call all the S* files from the new level.
All these K* and S* files are in /etc/rc.d/rc<init level>.d.

Eash S* file is like this: Sxxyyyyy, where xx is a 2-digit number, and yyyyy a
service name (the name is human friendly, but you can set it as anything you
want).
All Sxxyyyyy files are call following the xx number (increasingly), then by the
service (yyyyy) name (alphabetical increasing order).
For instance:
	ls /etc/rc.d/rc5.d
shows
	S01foo
	S15bar
	S99dummy
entering init level 5, it will call S01foo, S15bar then S99dummy.

This is the same for K* files. But following the system, they are call in the same
order, or in a reverse order (xx decreasing).

Now you know how all this stuff works, we can make the relevant links to /etc/init.d
in /etc/rc.d/rc5.d.

	ln -s /etc/rc.d/rc5.d/S90adsl
	ln -s /etc/rc.d/rc5.d/K90adsl

Before you create these links, ensure that the S90 is relevant, this means that S90*
will be called after all other network services.
Of course, verify that K90 is relevant too. According to some systems (reverse kill
order) this can be S00, but simply think of the best order to kill the connection.

Once all the symlinks are done, you can test it by rebooting your system. You can also
test it without rebooting: close your X11 session, open a root session in console mode,
then:
	init 2
then
	init 5.
Understood what it does? It means leaving init level 5 to init level 2, then coming
back to init level 5. The relevant S* and K* links will be called, so :-).
